<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Organise input data — spim_data • spimalot</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Organise input data — spim_data"><meta property="og:description" content="Organise data inputs that the model will be fit to. Note that
there are other data inputs (notably severity and vaccination
data) that are not fit to but are treated as model parameters."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spimalot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.14</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mrc-ide/spimalot/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Organise input data</h1>
    <small class="dont-index">Source: <a href="https://github.com/mrc-ide/spimalot/blob/HEAD/R/data.R" class="external-link"><code>R/data.R</code></a></small>
    <div class="hidden name"><code>spim_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Organise data inputs that the model will be fit to. Note that
there are other data inputs (notably severity and vaccination
data) that are not fit to but are treated as model parameters.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">spim_data</span><span class="op">(</span></span>
<span>  <span class="va">date</span>,</span>
<span>  <span class="va">region</span>,</span>
<span>  <span class="va">model_type</span>,</span>
<span>  <span class="va">rtm</span>,</span>
<span>  <span class="va">serology</span>,</span>
<span>  <span class="va">trim_deaths</span>,</span>
<span>  <span class="va">trim_pillar2</span>,</span>
<span>  <span class="va">adm_backfill_date</span>,</span>
<span>  <span class="va">ons_death_backfill_date</span>,</span>
<span>  trim_pillar2_date <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  full_data <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>date</dt>
<dd><p>The date of the data. This will be the final date</p></dd>


<dt>region</dt>
<dd><p>The region that we are fitting to. This will either
be one of the 10 NHS regions (one of
<code>sircovid::regions("all")</code>), or an argument to that function
(e.g., <code>all</code>)</p></dd>


<dt>model_type</dt>
<dd><p>Either "BB" (beta-binomial) or "NB" (negative
binomial). We use and exclude different data types depending on
this argument.</p></dd>


<dt>rtm</dt>
<dd><p>The "RTM collate" data feed. This contains information
about deaths, positive test results, react serology, etc. TODO:
DESCRIBE FORMAT; TODO: DESCRIBE ORIGIN</p></dd>


<dt>serology</dt>
<dd><p>The additional serology data. TODO: DESCRIBE FORMAT</p></dd>


<dt>trim_deaths</dt>
<dd><p>The number of days of deaths to trim to avoid
back-fill issues. We typically use a value of 4 days.</p></dd>


<dt>trim_pillar2</dt>
<dd><p>Either an integer representing the number of days of
pillar 2 data to trim to avoid back-fill issues (typically 7 days) or a
date string representing the date from which we no longer fit to pillar 2.
If the latter, then <code>trim_pillar2_date</code> must be TRUE</p></dd>


<dt>adm_backfill_date</dt>
<dd><p>A date string, representing the last date we use
admissions by age from the SUS linelist for England NHS regions. After
this date we use age-aggregated admissions from the UKHSA dashboard.
This is to account for backfill, and should be
carefully updated with every new SUS data delivery.</p></dd>


<dt>ons_death_backfill_date</dt>
<dd><p>A date string, representing the last date we
use deaths by age from the ONS for England NHS regions. After
this date we use deaths by age from the UKHSA linelist. This is to account
for the increased delay in registering death certificates, compared with
just reporting deaths that occur within 28 days of a positive test.</p></dd>


<dt>trim_pillar2_date</dt>
<dd><p>Logical parameter. If TRUE, indicates that
<code>trim_pillar2</code> should be expected to be a date string. If FALSE,
indicates that should. Default is FALSE</p></dd>


<dt>full_data</dt>
<dd><p>Not sure yet, we'll find out</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> TODO: describe columns</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Marc Baguelin, Edward Knock, Lilith Whittles, Rich FitzJohn, Anne Cori, Pablo Perez-Guzman, Raphael Sonabend, Thomas Rawson, Yasin Elmaci.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

